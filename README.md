# WeCourseService
微课表服务端，基于[getMyCourses](https://github.com/whoisnian/getMyCourses)项目

目前仅支持树维教务系统 后续会考虑增加其他教务系统

## 使用方法
* 将项目部署到服务器，防火墙开放25565端口
* 在uni-app中修改服务端地址
* 修改config.json中的内容以适配自己的学校
## 请求格式

本程序通信协议为WebSocket 数据交换格式为JSON

```json
{
    "Type":"account",
    "UserName":"201808830303",
    "PassWord":"7355608",
    "Week":0
}
```

Type为必填项，表明请求类型 可选内容为：login（验证登录）、week（获取当前教学周）、teacher（获取教师列表）、account（获取学籍信息）、course（获取课程表）

UserName为教务系统登陆账号，除了获取教学周外都需要提供

PassWord为教务系统登录密码，除了获取教学周外都需要提供

Week为需要获取的教学周 仅在获取课表时需要提供

### 1、验证登录
该功能用于验证账号密码是否能成功登录教务系统，传入JSON格式如下
```json
{
    "Type":"account",
    "UserName":"201808830303",
    "PassWord":"7355608",
}
```
> 登录成功后会返回四个大字：登录成功 失败的话就直接把失败原因的那个页面返回了 这里偷了个懒 以后勤快了再改吧 又不是不能用

### 2、获取教学周
这个功能主要是为了方便同学们获取现在是第几周（学校的奇葩校历看的头大） 请求格式也相当简单
```json
{
    "Type":"week"
}
```
> 返回结果也是非常简单 直接会返回当前周的数字

### 3、获取教师列表
这个功能是为了防止小伙伴们忘记自己的老师是谁而设计的（虽然这种情况出现的概率不大）
请求格式是这样的
```json
{
    "Type":"teacher",
    "UserName":"201808830303",
    "PassWord":"7355608",
}
```
先写这些，一会恰完饭继续